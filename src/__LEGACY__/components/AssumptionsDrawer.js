import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import "./IncomeDrawer.css"; // reuse drawer styles
export default function AssumptionsDrawer({ isOpen, onClose, input, setInput, filingStatus }) {
    const update = (key, value) => {
        setInput({ [key]: value });
    };
    return (_jsxs("div", { className: `income-drawer ${isOpen ? "open" : ""}`, children: [_jsx("div", { className: "drawer-bg", onClick: onClose }), _jsxs("div", { className: "drawer-panel", children: [_jsxs("div", { className: "drawer-header", children: [_jsx("h2", { children: "Advanced Assumptions" }), _jsx("button", { className: "close-btn", onClick: onClose, children: "\u00D7" })] }), _jsxs("div", { className: "drawer-content", children: [_jsxs(Section, { title: "Account Balances", children: [_jsx(NumberInput, { label: "Traditional IRA Balance", value: input.iraBalance, onChange: (v) => update("iraBalance", Number(v)) }), _jsx(NumberInput, { label: "Roth IRA Balance", value: input.rothBalance, onChange: (v) => update("rothBalance", Number(v)) }), _jsx(NumberInput, { label: "Taxable Brokerage Balance", value: input.taxableBalance, onChange: (v) => update("taxableBalance", Number(v)) }), _jsx(NumberInput, { label: "401(k) / 403(b) / TSP Balance", value: input.pretax401kBalance, onChange: (v) => update("pretax401kBalance", Number(v)) }), _jsx(NumberInput, { label: "Cash / Savings", value: input.cashBalance, onChange: (v) => update("cashBalance", Number(v)) })] }), _jsxs(Section, { title: "Basic Assumptions", children: [_jsx(NumberInput, { label: "Life Expectancy", value: input.lifeExpectancy, onChange: (v) => update("lifeExpectancy", Number(v)) }), _jsx(PercentInput, { label: "Investment Growth Rate", value: input.growthRate, onChange: (v) => update("growthRate", v) }), _jsx(PercentInput, { label: "Inflation Rate", value: input.inflationRate, onChange: (v) => update("inflationRate", v) }), _jsx(PercentInput, { label: "Taxable Yield Rate", value: input.taxableYieldRate, onChange: (v) => update("taxableYieldRate", v) }), _jsx(PercentInput, { label: "State Income Tax Rate", value: input.stateTaxRate, onChange: (v) => update("stateTaxRate", v) })] }), _jsxs(Section, { title: "Family & Retirement Timing", children: [filingStatus === "marriedFilingJointly" && (_jsx(NumberInput, { label: "Spouse Age", value: input.spouseAge ?? "", onChange: (v) => update("spouseAge", v === "" ? null : Number(v)) })), _jsx(NumberInput, { label: "Planned Retirement Age", value: input.plannedRetirementAge, onChange: (v) => update("plannedRetirementAge", Number(v)) }), _jsx(NumberInput, { label: "Social Security Start Age", value: input.ssStartAge, onChange: (v) => update("ssStartAge", Number(v)) }), _jsx(NumberInput, { label: "Pension Income ($/year)", value: input.pensionIncome, onChange: (v) => update("pensionIncome", Number(v)) }), _jsx(NumberInput, { label: "Medicare Start Age", value: input.medicareStartAge, onChange: (v) => update("medicareStartAge", Number(v)) })] }), _jsxs(Section, { title: "RMD & Distribution Strategy", children: [_jsx(NumberInput, { label: "RMD Start Age", value: input.rmdStartAge, onChange: (v) => update("rmdStartAge", Number(v)) }), _jsx(NumberInput, { label: "Annual Roth Conversion Limit", value: input.annualConversionLimit ?? "", onChange: (v) => update("annualConversionLimit", v === "" ? null : Number(v)) }), _jsx(ToggleInput, { label: "Avoid IRMAA Increases", value: input.avoidIRMAA, onChange: (v) => update("avoidIRMAA", v) }), _jsx(NumberInput, { label: "Avoid Exceeding Bracket (%)", value: input.avoidBracket ?? "", onChange: (v) => update("avoidBracket", v === "" ? null : Number(v)) }), _jsx(ToggleInput, { label: "Use Roth Before 2033 for RMDs", value: input.useRothForPre2033RMD, onChange: (v) => update("useRothForPre2033RMD", v) })] }), _jsxs(Section, { title: "Medicare & IRMAA", children: [_jsx(PercentInput, { label: "IRMAA Threshold Inflation Rate", value: input.irmaaInflationRate, onChange: (v) => update("irmaaInflationRate", v) }), _jsx(NumberInput, { label: "Part B Base Premium", value: input.partBBasePremium, onChange: (v) => update("partBBasePremium", Number(v)) }), _jsx(ToggleInput, { label: "Apply NIIT (3.8% surtax)", value: input.applyNIIT, onChange: (v) => update("applyNIIT", v) })] })] })] })] }));
}
function NumberInput({ label, value, onChange }) {
    return (_jsxs("div", { className: "field-block", children: [_jsx("label", { children: label }), _jsx("input", { type: "number", value: value ?? "", onChange: (e) => onChange(e.target.value) })] }));
}
function PercentInput({ label, value, onChange }) {
    return (_jsxs("div", { className: "field-block", children: [_jsx("label", { children: label }), _jsx("input", { type: "number", value: (value * 100).toFixed(2), onChange: (e) => onChange(Number(e.target.value) / 100) })] }));
}
function ToggleInput({ label, value, onChange }) {
    return (_jsxs("div", { className: "field-block toggle", children: [_jsx("label", { children: label }), _jsx("input", { type: "checkbox", checked: value, onChange: (e) => onChange(e.target.checked) })] }));
}
function Section({ title, children }) {
    return (_jsxs("div", { className: "drawer-section", children: [_jsx("h3", { className: "section-title", children: title }), _jsx("div", { className: "section-fields", children: children })] }));
}
